-- 1. 회원정보 : USERID, USERPW, USERNAME(회원이름), GENDER(성별), BIRTH(생년월일), HEIGHT(키), WEIGHT(몸무게)
create table MEMBERINFO(
	USERID VARCHAR(500) NOT NULL primary key,
	USERPW VARCHAR(1000) NOT NULL,
	USERNAME VARCHAR(1000) NOT NULL,
	GENDER VARCHAR(10) NOT null CHECK(GENDER in("M","F")),
	BIRTH VARCHAR(1000) NOT NULL,
	HEIGHT FLOAT(3,1) NOT NULL,
	WEIGHT FLOAT(3,1) NOT NULL
);
SELECT * FROM MEMBERINFO ORDER BY USERID DESC;
SELECT * FROM MEMBERINFO WHERE USERID=?;
INSERT INTO MEMBERINFO VALUES(?, ?, ?, ?, ?, ?, ?);
UPDATE MEMBERINFO SET HEIGHT=? WHERE USERID=?;

-- 2. 운동계획 : EXNAME(이름), EXPART(파트), REP(횟수), SET(세트수), VOL(중량)
CREATE table EXCERCISE_USER(
	EXNAME VARCHAR(1000) NOT NULL,
	EXPART VARCHAR(1000) NOT NULL,
	EXREP INT NOT NULL,
	EXSET INT NOT NULL,
	EXVOL FLOAT NOT NULL
);

-- 3. 전체 운동 리스트 : LINAME(이름), LIPART(타입)
CREATE table EXCERCISE_LIST(
	LINAME VARCHAR(1000) NOT NULL,
	LIPART VARCHAR(1000) NOT NULL
);

-- 4. 게시판 : USERNAME(작성자), TITLE(글제목), CONTENT(글내용), BDATE(날짜), TOT(현재 인원수), ALL(전체 인원수)
CREATE TABLE BOARD(BNO INT AUTO_INCREMENT PRIMARY KEY, USERNAME VARCHAR(400) NOT NULL, TITLE VARCHAR(1000) NOT NULL, CONTENT VARCHAR(400) NOT NULL, 
				   BDATE DATE not null, BTOT INT not null, BALL INT not NULL );

SELECT BNO, USERNAME, TITLE, CONTENT, BDATE FROM EXBOARD ORDER BY BNO DESC;
SELECT BNO, USERNAME, TITLE, CONTENT, BDATE FROM EXBOARD WHERE BNO=?;
INSERT INTO EXBOARD VALUES(NULL, USERNAME, TITLE, CONTENT, NOW());
UPDATE EXBOARD SET TITLE=?, CONTENT=? WHERE BNO=?;
DELETE FROM EXBOARD WHERE MYNO=?;

-- 시간 되면 게시판 댓글 작성도 추가 해보고싶습니당..		   
CREATE TABLE E_REPLY(
	NO INT AUTO_INCREMENT PRIMARY KEY,
	BNO INT NOT NULL,
	GRP INT NOT NULL,
	GRPS INT NOT NULL,
	GRPL INT NOT NULL,
	WRITER VARCHAR(400) NOT NULL,
	CONTENT VARCHAR(1000),
	WDATE DATE NOT null,
	FMBROLE VARCHAR(50) not null,
	constraint E_R_WRITER_FK FOREIGN key(WRITER) references 부모테이블명(PK컬럼명) on delete cascade on update cascade,
	constraint E_R_BNO_FK foreign KEY(BNO) references EXBOARD(BNO) on delete CASCADE
);